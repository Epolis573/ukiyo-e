"use strict";

function _typeof(e) {
    return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    } : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    })(e)
}

function ownKeys(t, e) {
    var o, n = Object.keys(t);
    return Object.getOwnPropertySymbols && (o = Object.getOwnPropertySymbols(t), e && (o = o.filter(function(e) {
        return Object.getOwnPropertyDescriptor(t, e).enumerable
    })), n.push.apply(n, o)), n
}

function _objectSpread(t) {
    for (var e = 1; e < arguments.length; e++) {
        var o = null != arguments[e] ? arguments[e] : {};
        e % 2 ? ownKeys(Object(o), !0).forEach(function(e) {
            _defineProperty(t, e, o[e])
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(o)) : ownKeys(Object(o)).forEach(function(e) {
            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(o, e))
        })
    }
    return t
}

function _defineProperty(e, t, o) {
    return t in e ? Object.defineProperty(e, t, {
        value: o,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = o, e
}

function _inherits(e, t) {
    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            writable: !0,
            configurable: !0
        }
    }), Object.defineProperty(e, "prototype", {
        writable: !1
    }), t && _setPrototypeOf(e, t)
}

function _setPrototypeOf(e, t) {
    return (_setPrototypeOf = Object.setPrototypeOf || function(e, t) {
        return e.__proto__ = t, e
    })(e, t)
}

function _createSuper(o) {
    var n = _isNativeReflectConstruct();
    return function() {
        var e, t = _getPrototypeOf(o);
        return _possibleConstructorReturn(this, n ? (e = _getPrototypeOf(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments))
    }
}

function _possibleConstructorReturn(e, t) {
    if (t && ("object" === _typeof(t) || "function" == typeof t)) return t;
    if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined");
    return _assertThisInitialized(e)
}

function _assertThisInitialized(e) {
    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return e
}

function _isNativeReflectConstruct() {
    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
    if (Reflect.construct.sham) return !1;
    if ("function" == typeof Proxy) return !0;
    try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0
    } catch (e) {
        return !1
    }
}

function _getPrototypeOf(e) {
    return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
        return e.__proto__ || Object.getPrototypeOf(e)
    })(e)
}

function _classCallCheck(e, t) {
    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
}

function _defineProperties(e, t) {
    for (var o = 0; o < t.length; o++) {
        var n = t[o];
        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
    }
}

function _createClass(e, t, o) {
    return t && _defineProperties(e.prototype, t), o && _defineProperties(e, o), Object.defineProperty(e, "prototype", {
        writable: !1
    }), e
}
var Render = function() {
        function t(e) {
            _classCallCheck(this, t), this.objs = e.objs, this.props = e.props, this.constants = e.constants, window.requestAnimationFrame(this.animationFrame.bind(this))
        }
        return _createClass(t, [{
            key: "animationFrame",
            value: function() {
                window.requestAnimationFrame(this.animationFrame.bind(this)), this.frame()
            }
        }, {
            key: "object3D",
            get: function() {
                return this.objs.object3D
            }
        }]), t
    }(),
    CSS3DModeler = function() {
        _inherits(o, Render);
        var t = _createSuper(o);

        function o(e) {
            return _classCallCheck(this, o), (e = t.call(this, {
                objs: _objectSpread({}, e),
                constants: {},
                props: {}
            })).objs.object3D = new THREE.Object3D, e.objs.render.add(e.objs.object3D), e.objs.css3DObject = new THREE.CSS3DObject(e.objs.selector), e
        }
        return _createClass(o, [{
            key: "frame",
            value: function() {}
        }, {
            key: "show",
            value: function() {
                this.objs.object3D.add(this.objs.css3DObject)
            }
        }, {
            key: "hide",
            value: function() {}
        }, {
            key: "event",
            value: function(e) {}
        }]), o
    }(),
    CSS3DItemLayer = function() {
        _inherits(s, Render);
        var r = _createSuper(s);

        function s(e) {
            var t;
            _classCallCheck(this, s), (t = r.call(this, {
                objs: _objectSpread({}, e),
                constants: {},
                props: {}
            })).objs.object3D = new THREE.Object3D, t.objs.render.add(t.objs.object3D), t.objs.selectors = [];
            for (var o = 0; o < t.objs.selector.querySelectorAll(".css3d-item").length; o++) t.objs.selectors[o] = new CSS3DModeler({
                render: t.objs.object3D,
                selector: t.objs.selector.querySelectorAll(".css3d-item")[o],
                callback: function(e) {}
            });
            for (var n = 0; n < t.objs.selectors.length; n++) t.objs.selectors[n].object3D.position.x = Math.sin(Math.PI / 180 * t.objs.selector.querySelectorAll(".css3d-item")[n].getAttribute("data-angle")) * -t.objs.radius, t.objs.selectors[n].object3D.position.y = t.objs.selector.querySelectorAll(".css3d-item")[n].getAttribute("data-y"), t.objs.selectors[n].object3D.position.z = Math.cos(Math.PI / 180 * t.objs.selector.querySelectorAll(".css3d-item")[n].getAttribute("data-angle")) * t.objs.radius, t.objs.selectors[n].object3D.rotation.y = -THREE.Math.degToRad(t.objs.selector.querySelectorAll(".css3d-item")[n].getAttribute("data-angle"));
            return t
        }
        return _createClass(s, [{
            key: "frame",
            value: function() {}
        }, {
            key: "show",
            value: function() {
                for (var e = 0; e < this.objs.selectors.length; e++) this.objs.selectors[e].show()
            }
        }, {
            key: "hide",
            value: function() {}
        }, {
            key: "event",
            value: function(e) {}
        }]), s
    }(),
    CSS3DLayer = function() {
        _inherits(r, Render);
        var n = _createSuper(r);

        function r(e) {
            var t;
            _classCallCheck(this, r), (t = n.call(this, {
                objs: _objectSpread({}, e),
                constants: {},
                props: {
                    delta: 0,
                    degree: []
                }
            })).objs.object3D = new THREE.Object3D, t.objs.render.add(t.objs.object3D), t.objs.css3DItemLayer = [], t.props.speed = [];
            for (var o = 0; o < document.querySelectorAll(".page-css3d__layer").length; o++) t.props.degree[o] = 0, t.props.speed[o] = document.querySelectorAll(".page-css3d__layer")[o].getAttribute("data-speed"), t.objs.css3DItemLayer[o] = new CSS3DItemLayer({
                render: t.objs.object3D,
                selector: document.querySelectorAll(".page-css3d__layer")[o],
                radius: document.querySelectorAll(".page-css3d__layer")[o].getAttribute("data-radius"),
                callback: function(e) {}
            });
            return t
        }
        return _createClass(r, [{
            key: "frame",
            value: function() {
                for (var e = 0; e < this.objs.css3DItemLayer.length; e++) this.objs.css3DItemLayer[e] && (this.objs.css3DItemLayer[e].object3D.rotation.y += .05 * (THREE.Math.degToRad(this.props.degree[e]) - this.objs.css3DItemLayer[e].object3D.rotation.y));
                this.props.degree[0] += .02, this.props.degree[1] -= .02, this.props.degree[2] += .04
            }
        }, {
            key: "show",
            value: function() {
                for (var e = 0; e < this.objs.css3DItemLayer.length; e++) this.objs.css3DItemLayer[e].show()
            }
        }, {
            key: "hide",
            value: function() {}
        }, {
            key: "event",
            value: function(e) {
                if ("delta" == e.type)
                    if (this.props.delta = e.delta, e.delta <= 0)
                        for (var t = 0; t < this.props.degree.length; t++) this.props.degree[t] += 5 * this.props.speed[t];
                    else
                        for (var o = 0; o < this.props.degree.length; o++) this.props.degree[o] -= 5 * this.props.speed[o];
                if ("diff" == e.type)
                    for (var n = 0; n < this.props.degree.length; n++) this.props.degree[n] += -.125 * e.diff;
                "active" == e.type && (this.props.degree[0] = 180, this.props.degree[1] = -180, this.props.degree[2] = 180)
            }
        }]), r
    }(),
    CSS3DCanvas = function() {
        _inherits(o, Render);
        var t = _createSuper(o);

        function o(e) {
            return _classCallCheck(this, o), t.call(this, {
                objs: _objectSpread({}, e),
                constants: {},
                props: {
                    pos: 0
                }
            })
        }
        return _createClass(o, [{
            key: "frame",
            value: function() {
                this.objs.renderer && this.objs.renderer.render(this.objs.scene, this.objs.camera), this.objs.camera && (this.objs.camera.rotation.x += .05 * (-.1 * this.props.pos - this.objs.camera.rotation.x))
            }
        }, {
            key: "event",
            value: function(e) {
                var t = this;
                "build" == e.type && (this.objs.scene = new THREE.Scene, this.objs.camera = new THREE.PerspectiveCamera(30, this.objs.render.clientWidth / this.objs.render.clientHeight, .1, 4500), this.objs.renderer = new THREE.CSS3DRenderer({
                    antialias: !0
                }), this.objs.renderer.setSize(this.objs.render.clientWidth, this.objs.render.clientHeight), this.objs.render.appendChild(this.objs.renderer.domElement), window.addEventListener("resize", function() {
                    t.objs.camera.aspect = t.objs.render.clientWidth / t.objs.render.clientHeight, t.objs.camera.updateProjectionMatrix(), t.objs.renderer.setSize(t.objs.render.clientWidth, t.objs.render.clientHeight)
                }, !1), window.dispatchEvent(new Event("resize")), this.objs.css3DLayer = new CSS3DLayer({
                    render: this.objs.scene,
                    callback: function(e) {}
                }), this.objs.css3DLayer.show(), this.objs.callback({
                    type: "builded"
                })), "delta" == e.type && (e.delta <= 0 ? this.objs.css3DLayer.event({
                    type: "delta",
                    delta: 0
                }) : this.objs.css3DLayer.event({
                    type: "delta",
                    delta: 1
                })), "diff" == e.type && this.objs.css3DLayer.event({
                    type: "diff",
                    diff: e.diff
                }), "mousemove" == e.type && (this.props.pos = e.pos), "active" == e.type && this.objs.css3DLayer.event({
                    type: "active"
                })
            }
        }]), o
    }(),
    objs = {},
    props = {},
    constants = {
        device: 0 < navigator.userAgent.indexOf("iPhone") || 0 < navigator.userAgent.indexOf("iPad") || 0 < navigator.userAgent.indexOf("iPod") || 0 < navigator.userAgent.indexOf("Android") ? "sp" : "pc",
        touchclick: "ontouchstart" in document ? "touchstart" : "click"
    },
    css3DCanvas = new CSS3DCanvas({
        render: document.querySelector(".page-css3d"),
        callback: function(e) {
            if ("builded" == e.type) {
                if ("pc" == constants.device) {
                    e = "onwheel" in document ? "wheel" : "onmousewheel" in document ? "mousewheel" : "DOMMouseScroll";
                    document.addEventListener(e, function(e) {
                        (e.deltaY ? -e.deltaY : e.wheelDelta || -e.detail) <= 0 ? css3DCanvas.event({
                            type: "delta",
                            delta: 0
                        }) : css3DCanvas.event({
                            type: "delta",
                            delta: 1
                        })
                    }), document.addEventListener("mousemove", function(e) {
                        document.querySelector(".css3d-pointer").style.transform = "translate(" + e.clientX + "px, " + e.clientY + "px)", css3DCanvas.event({
                            type: "mousemove",
                            pos: e.clientY / document.querySelector(".page-css3d").clientHeight - .5
                        })
                    }, !1);
                    for (var t = 0; t < document.querySelectorAll(".page-css3d .css3d-item").length; t++) document.querySelectorAll(".page-css3d .css3d-item")[t].addEventListener("mouseover", function(e) {
                        document.querySelector(".css3d-pointer").classList.add("js-active")
                    }), document.querySelectorAll(".page-css3d .css3d-item")[t].addEventListener("mouseout", function(e) {
                        document.querySelector(".css3d-pointer").classList.remove("js-active")
                    })
                }
                var o, n, r, s;
                "sp" == constants.device && (o = {
                    is_move: !1,
                    cursor: {
                        x: 0
                    },
                    start: {
                        x: 0
                    },
                    diff: {
                        x: 0
                    },
                    buff: {
                        x: 0
                    }
                }, e = "ontouchstart" in document ? "touchstart" : "mousedown", n = "ontouchmove" in document ? "touchmove" : "mousemove", r = "ontouchend" in document ? "touchend" : "mouseup", s = "ontouchleave" in document ? "touchleave" : "mouseout", document.addEventListener(e, function(e) {
                    o.is_move = !0, "ontouchstart" in document ? o.cursor.x = e.touches[0].pageX : o.cursor.x = e.clientX, o.start.x = o.cursor.x
                }, !1), document.addEventListener(n, function(e) {
                    "ontouchmove" in document ? o.cursor.x = e.touches[0].pageX : o.cursor.x = e.clientX, o.is_move && (o.diff.x = o.cursor.x - o.start.x, css3DCanvas.event({
                        type: "diff",
                        diff: o.diff.x
                    })), o.start.x = o.cursor.x
                }, !1), document.addEventListener(r, function(e) {
                    o.is_move = !1
                }, !1), document.addEventListener(s, function(e) {
                    o.is_move = !1
                }, !1));
                for (t = 0; t < document.querySelectorAll(".page-css3d .css3d-item a").length; t++) document.querySelectorAll(".page-css3d .css3d-item a")[t].addEventListener("click", function(e) {
                    e.preventDefault(), document.querySelector(".page-toggle").classList.add("js-active"), document.querySelector(".page-detail").classList.add("js-active"), document.querySelectorAll(".page-detail .detail-item")[e.currentTarget.getAttribute("data-index")].classList.add("js-active"), "pc" == constants.device ? objs.scrollbar.scrollTo(0, 0, 0) : document.querySelector(".page-detail[data-scroll]").scrollTop = 0
                });
                document.querySelector(".loading").classList.add("js-ready"), setTimeout(function() {
                    document.querySelector(".loading").classList.add("js-active"), document.querySelector(".page-css3d").style.opacity = 0, document.querySelector(".page-toggle button").classList.add("js-active"), setTimeout(function() {
                        document.querySelector(".loading").classList.add("js-inactive"), objs.intersectionObserver = new IntersectionObserver(function(e, t) {
                            e.forEach(function(e) {
                                0 < e.intersectionRatio && e.target.classList.add("js-lozad")
                            })
                        }, {
                            root: null,
                            rootMargin: "0px 0px 0px 0px",
                            threshold: .1
                        }), objs.observeElements = document.querySelectorAll("[data-observe]");
                        for (var e = 0; e < objs.observeElements.length; e++) objs.intersectionObserver.observe(objs.observeElements[e]);
                        css3DCanvas.event({
                            type: "active"
                        }), TweenMax.to(document.querySelector(".page-css3d").style, 1, {
                            opacity: 1,
                            ease: "Power0.easeNone"
                        })
                    }, 500)
                }, 1e3)
            }
        }
    }),
    imgLoad = ($(".page-nav .nav-main ul li a p").children().addBack().contents().each(function() {
        var e;
        3 == this.nodeType && (e = $(this)).replaceWith(e.text().replace(/(\S)/g, "<span>$&</span>"))
    }), imagesLoaded(document.querySelector("body"), function(e) {}));
imgLoad.on("progress", function(e, t) {
    document.querySelector(".loading p").style.height = Math.floor(e.progressedCount / e.images.length * 100) + "%"
}), imgLoad.on("always", function(e) {
    setTimeout(function() {
        css3DCanvas.event({
            type: "build"
        })
    }, 500)
}), "pc" == constants.device && (objs.scrollbar = window.Scrollbar.init(document.querySelector(".page-detail[data-scroll]"), {}), window.Scrollbar.init(document.querySelector(".page-nav[data-scroll]"), {}), window.Scrollbar.init(document.querySelector(".page-about[data-scroll]"), {})), document.querySelector(".page-toggle button").addEventListener("click", function(e) {
    e.preventDefault(), document.querySelector(".page-toggle").classList.contains("js-active") ? (document.querySelector(".page-toggle").classList.remove("js-active"), document.querySelector(".page-nav").classList.remove("js-active"), document.querySelector(".page-about").classList.remove("js-active"), document.querySelector(".page-detail").classList.remove("js-active"), setTimeout(function() {
        for (var e = 0; e < document.querySelectorAll(".page-detail .detail-item").length; e++) document.querySelectorAll(".page-detail .detail-item")[e].classList.remove("js-active")
    }, 500)) : (document.querySelector(".page-toggle").classList.add("js-active"), document.querySelector(".page-nav").classList.add("js-active"))
});
for (var i = 0; i < document.querySelectorAll(".item-link a").length; i++) document.querySelectorAll(".item-link a")[i].addEventListener("click", function(e) {
    document.querySelector(".page-nav").classList.add("js-active"), setTimeout(function() {
        document.querySelector(".page-detail").classList.remove("js-active");
        for (var e = 0; e < document.querySelectorAll(".page-detail .detail-item").length; e++) document.querySelectorAll(".page-detail .detail-item")[e].classList.remove("js-active")
    }, 500)
});
document.addEventListener("mousemove", function(e) {
    document.querySelector(".page-pointer").style.transform = "translate(" + e.clientX + "px, " + e.clientY + "px)"
}, !1), document.querySelector(".page-nav .nav-main ul").addEventListener("mouseleave", function(e) {
    document.querySelector(".page-pointer").classList.remove("js-active")
});
for (i = 0; i < document.querySelectorAll(".page-nav .nav-main ul li a").length; i++) document.querySelectorAll(".page-nav .nav-main ul li a")[i].addEventListener("mouseover", function(e) {
    document.querySelector(".page-pointer span").className = "", document.querySelector(".page-pointer span").classList.add("js-" + e.currentTarget.getAttribute("data-index")), document.querySelector(".page-pointer").classList.add("js-active")
}), document.querySelectorAll(".page-nav .nav-main ul li a")[i].addEventListener("click", function(e) {
    e.preventDefault(), document.querySelector(".page-nav").classList.remove("js-active"), document.querySelector(".page-detail").classList.add("js-active"), document.querySelector(".page-detail").classList.add("js-quick"), document.querySelectorAll(".page-detail .detail-item")[e.currentTarget.getAttribute("data-index")].classList.add("js-active"), "pc" == constants.device ? objs.scrollbar.scrollTo(0, 0, 0) : document.querySelector(".page-detail[data-scroll]").scrollTop = 0, setTimeout(function() {
        document.querySelector(".page-detail").classList.remove("js-quick")
    }, 500)
});
if (document.querySelector(".footer-link--about").addEventListener("click", function(e) {
        e.preventDefault(), document.querySelector(".page-toggle").classList.add("js-active"), document.querySelector(".page-about").classList.add("js-active")
    }), document.querySelector(".footer-link--about a").addEventListener("mouseenter", function(e) {
        e.preventDefault(), document.querySelector(".footer-link--backnumber a").classList.add("js-inactive");
        for (var t = 0; t < document.querySelectorAll(".footer-link--backnumber ul li a").length; t++) document.querySelectorAll(".footer-link--backnumber ul li a")[t].classList.add("js-inactive")
    }), document.querySelector(".footer-link--about a").addEventListener("mouseleave", function(e) {
        e.preventDefault(), document.querySelector(".footer-link--backnumber a").classList.remove("js-inactive");
        for (var t = 0; t < document.querySelectorAll(".footer-link--backnumber ul li a").length; t++) document.querySelectorAll(".footer-link--backnumber ul li a")[t].classList.remove("js-inactive")
    }), "pc" == constants.device) {
    document.querySelector(".footer-link--backnumber").addEventListener("mouseenter", function(e) {
        e.preventDefault(), document.querySelector(".footer-link--about a").classList.add("js-inactive");
        for (var t = 0; t < document.querySelectorAll(".footer-link--about ul li a").length; t++) document.querySelectorAll(".footer-link--about ul li a")[t].classList.add("js-inactive");
        for (t = 0; t < document.querySelectorAll(".footer-link--backnumber ul").length; t++) document.querySelectorAll(".footer-link--backnumber ul")[t].classList.add("js-active")
    }), document.querySelector(".footer-link--backnumber").addEventListener("mouseleave", function(e) {
        e.preventDefault(), document.querySelector(".footer-link--about a").classList.remove("js-inactive");
        for (var t = 0; t < document.querySelectorAll(".footer-link--about ul li a").length; t++) document.querySelectorAll(".footer-link--about ul li a")[t].classList.remove("js-inactive");
        for (t = 0; t < document.querySelectorAll(".footer-link--backnumber ul").length; t++) document.querySelectorAll(".footer-link--backnumber ul")[t].classList.remove("js-active")
    });
    for (i = 0; i < document.querySelectorAll(".footer-link--backnumber ul li a").length; i++) document.querySelectorAll(".footer-link--backnumber ul li a")[i].addEventListener("mouseenter", function(e) {
        e.preventDefault();
        for (var t = 0; t < document.querySelectorAll(".footer-link--backnumber ul li a").length; t++) document.querySelectorAll(".footer-link--backnumber ul li a")[t].classList.add("js-inactive");
        e.currentTarget.classList.remove("js-inactive")
    }), document.querySelectorAll(".footer-link--backnumber ul li a")[i].addEventListener("mouseleave", function(e) {
        e.preventDefault();
        for (var t = 0; t < document.querySelectorAll(".footer-link--backnumber ul li a").length; t++) document.querySelectorAll(".footer-link--backnumber ul li a")[t].classList.remove("js-inactive")
    })
}
constants.device,
    function(u, d) {
        function o(e, t) {
            return _typeof(e) === t
        }

        function f(e) {
            var t, o = h.className,
                n = l._config.classPrefix || "";
            g && (o = o.baseVal), l._config.enableJSClass && (t = new RegExp("(^|\\s)" + n + "no-js(\\s|$)"), o = o.replace(t, "$1" + n + "js$2")), l._config.enableClasses && (o += " " + n + e.join(" " + n), g ? h.className.baseVal = o : h.className = o.trim())
        }

        function p(e, t) {
            if ("object" == _typeof(e))
                for (var o in e) m(e, o) && p(o, e[o]);
            else {
                var n = (e = e.toLowerCase()).split("."),
                    r = l[n[0]];
                if (void 0 !== (r = 2 == n.length ? r[n[1]] : r)) return l;
                t = "function" == typeof t ? t() : t, 1 == n.length ? l[n[0]] = t : (!l[n[0]] || l[n[0]] instanceof Boolean || (l[n[0]] = new Boolean(l[n[0]])), l[n[0]][n[1]] = t), f([(t && 0 != t ? "" : "no-") + n.join("-")]), l._trigger(e, t)
            }
            return l
        }
        var m, e, t, n, r, s, c, b, v, y = [],
            a = [],
            i = {
                _version: "3.6.0",
                _config: {
                    classPrefix: "",
                    enableClasses: !0,
                    enableJSClass: !0,
                    usePrefixes: !0
                },
                _q: [],
                on: function(e, t) {
                    var o = this;
                    setTimeout(function() {
                        t(o[e])
                    }, 0)
                },
                addTest: function(e, t, o) {
                    a.push({
                        name: e,
                        fn: t,
                        options: o
                    })
                },
                addAsyncTest: function(e) {
                    a.push({
                        name: null,
                        fn: e
                    })
                }
            },
            l = ((l = function() {}).prototype = i, new l),
            h = d.documentElement,
            g = "svg" === h.nodeName.toLowerCase();
        for (b in m = o(v = {}.hasOwnProperty, "undefined") || o(v.call, "undefined") ? function(e, t) {
                return t in e && o(e.constructor.prototype[t], "undefined")
            } : function(e, t) {
                return v.call(e, t)
            }, i._l = {}, i.on = function(e, t) {
                this._l[e] || (this._l[e] = []), this._l[e].push(t), l.hasOwnProperty(e) && setTimeout(function() {
                    l._trigger(e, l[e])
                }, 0)
            }, i._trigger = function(e, t) {
                var o;
                this._l[e] && (o = this._l[e], setTimeout(function() {
                    for (var e = 0; e < o.length; e++)(0, o[e])(t)
                }, 0), delete this._l[e])
            }, l._q.push(function() {
                i.addTest = p
            }), l.addAsyncTest(function() {
                function o(o, e, n) {
                    function t(e) {
                        var t = !(!e || "load" !== e.type) && 1 == r.width;
                        p(o, "webp" === o && t ? new Boolean(t) : t), n && n(e)
                    }
                    var r = new Image;
                    r.onerror = t, r.onload = t, r.src = e
                }
                var n = [{
                        uri: "data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",
                        name: "webp"
                    }],
                    e = n.shift();
                o(e.name, e.uri, function(e) {
                    if (e && "load" === e.type)
                        for (var t = 0; t < n.length; t++) o(n[t].name, n[t].uri)
                })
            }), a)
            if (a.hasOwnProperty(b)) {
                if (e = [], (t = a[b]).name && (e.push(t.name.toLowerCase()), t.options && t.options.aliases && t.options.aliases.length))
                    for (n = 0; n < t.options.aliases.length; n++) e.push(t.options.aliases[n].toLowerCase());
                for (r = o(t.fn, "function") ? t.fn() : t.fn, s = 0; s < e.length; s++) 1 === (c = e[s].split(".")).length ? l[c[0]] = r : (!l[c[0]] || l[c[0]] instanceof Boolean || (l[c[0]] = new Boolean(l[c[0]])), l[c[0]][c[1]] = r), y.push((r ? "" : "no-") + c.join("-"))
            } f(y), delete i.addTest, delete i.addAsyncTest;
        for (var j = 0; j < l._q.length; j++) l._q[j]();
        u.Modernizr = l
    }(window, document);